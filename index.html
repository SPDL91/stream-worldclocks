<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>WorldÂ Clocks</title>

<!-- GoogleÂ Fonts (can be overridden from OBS) -->
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Roboto+Mono&display=swap" rel="stylesheet">

<style>
/* ========== THEME ========== */
/* Every variable can be overridden in OBS â†’ Browser Source â†’ Custom CSS */
:root{
  --accent:      #fbdceb;                      /* divider + default text colour         */
  --clock-color: var(--accent);                /* main text colour                      */
  --gap:         1rem;                         /* vertical spacing between city blocks  */

  --label-font: "Comic Neue", sans-serif;      /* city + date font                      */
  --time-font:  "Roboto Mono", monospace;      /* time font                             */
}

/* ===== BASE ===== */
html,body{
  margin:0;
  padding:0;
  background:transparent;        /* keep OBS overlay transparent */
  color:var(--clock-color);
  font-family:var(--label-font);
}

/* ===== LAYOUT ===== */
.wrapper{
  width:100%;
  max-width:640px;               /* fits nicely under a â…“ column */
  display:flex;
  flex-direction:column;
  align-items:flex-end;          /* rightâ€‘align everything        */
  padding-right:1rem;
  box-sizing:border-box;
}

.city{
  display:grid;
  text-align:right;
  row-gap:0.25rem;
  margin-bottom:var(--gap);
}
.city:last-of-type{margin-bottom:0}

/* ===== TYPOGRAPHY ===== */
.name{font-size:1.6rem;font-weight:700;line-height:1.1}
.date{font-size:1.2rem}
.time{
  font-family:var(--time-font);
  font-size:1.2rem;
  letter-spacing:0.5px;
}

/* small accent divider */
.city::after{
  content:"";
  width:60%;
  height:2px;
  background:var(--accent);
  margin:0.4rem 0 0 40%;
  display:block;
  opacity:.25;
}
.city:last-of-type::after{display:none}

/* flag emoji */
.flag{
  margin:0 0.25rem;
  font-size:1.6rem;
  line-height:1;
}
</style>
</head>
<body>
  <div class="wrapper" id="clockWrapper"></div>

<!-- moment.js + timeâ€‘zone data -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.30.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.43/moment-timezone-with-data.min.js"></script>

<script>
/* ---------- CITY LIST ---------- */
const cities = [
  { id:'Seoul',  zone:'Asia/Seoul',       flag:'ðŸ‡°ðŸ‡·' },
  { id:'Sydney', zone:'Australia/Sydney', flag:'ðŸ‡¦ðŸ‡º' },
  // { id:'NYC',   zone:'America/New_York', flag:'ðŸ‡ºðŸ‡¸' }, // add more if you like
];

/* ---------- URL PARAMETERS ----------
   ?flag=0|1        â†’ show / hide flags (default = 1)
   ?flagPos=left|right â†’ position of the flag (default = left)
--------------------------------------*/
const params   = new URLSearchParams(location.search);
const showFlag = params.get('flag') !== '0';
const flagLeft = (params.get('flagPos') || 'left') === 'left';

/* ---------- BUILD MARKUP ---------- */
const wrap = document.getElementById('clockWrapper');

cities.forEach(c=>{
  const nameHTML = showFlag
    ? flagLeft
        ? `<span class="flag">${c.flag}</span>${c.id}`
        : `${c.id}<span class="flag">${c.flag}</span>`
    : c.id;

  const block = document.createElement('div');
  block.className = 'city';
  block.innerHTML = `
    <div class="name">${nameHTML}</div>
    <div class="date" id="${c.id}-date"></div>
    <div class="time" id="${c.id}-time"></div>
  `;
  wrap.appendChild(block);
});

/* ---------- UPDATE LOOP ---------- */
const fmtDate = 'DD.MM.YYYY';
const fmtTime = 'HH:mm:ss Z';

function tick(){
  cities.forEach(c=>{
    const now = moment().tz(c.zone);
    document.getElementById(`${c.id}-date`).textContent = now.format(fmtDate);
    document.getElementById(`${c.id}-time`).textContent  = now.format(fmtTime);
  });
}

tick();
setInterval(tick, 1000);
</script>
</body>
</html>